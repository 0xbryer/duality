{
  "folderName": "scripts",
  "folderPath": ".autodoc/docs/json/scripts",
  "url": "https://github.com/duality-labs/duality/oc/docs/json/scripts",
  "files": [
    {
      "fileName": "startup.sh",
      "filePath": "scripts/startup.sh",
      "url": "https://github.com/duality-labs/duality/scripts/startup.sh",
      "summary": "This script is used to initialize and start a Duality blockchain node. It is a shell script that sets some default variables and then checks if it is being run from the correct directory. It then initializes the chain by running `dualityd init` with the specified network and chain ID. It then adds a consumer section to the ICS chain by running `dualityd add-consumer-section`. The script then replaces the moniker in the config file with the specified moniker if it is provided. \n\nThe script then checks the startup mode. If the startup mode is \"new\", it creates a new chain by copying the genesis file and adding the initial genesis data with all found pregenesis parts. It then creates some test accounts and starts the new chain. If the startup mode is not \"new\", it attempts to join an existing chain. It checks if an RPC address was provided directly and uses that as the lead node. If an RPC address was not provided, it reads it from the chain.json file. It then checks if the node is on the correct network and can get information from the current network. If it is, it sets the chain settings and starts the node as a full node or a validator node depending on the startup mode. \n\nIf the node is started as a validator node, it waits for the node to finish catching up to the chain's current height and then adds the validator key and sends a request to become a validator. It then waits to check the node's validator status. If the node is not started as a validator node, it starts the node as a full node. \n\nThis script is used to automate the process of initializing and starting a Duality blockchain node. It can be used to create a new chain or join an existing chain. It can also be used to start a node as a full node or a validator node. This script is an important part of the Duality project as it allows users to easily start and join a Duality blockchain network. \n\nExample usage:\n\nTo start a new chain:\n\n```\n./startup.sh MODE=new NETWORK=duality-1 MONIKER=my-node\n```\n\nTo join an existing chain:\n\n```\n./startup.sh MODE=fullnode NETWORK=duality-1 RPC_ADDRESS=http://127.0.0.1:26657\n```\n\nTo start a validator node:\n\n```\n./startup.sh MODE=validator NETWORK=duality-1 MNEMONIC=\"my mnemonic\"\n```",
      "questions": "1. What is the purpose of this script?\n    \n    This script is used to initialize and start a Duality blockchain node in various modes, including as a full node or validator node.\n\n2. What is the significance of the `NETWORK` variable?\n    \n    The `NETWORK` variable is used to specify which network the node should connect to. If not specified, it defaults to the `duality-1` network.\n\n3. What is the purpose of the `add-consumer-section` command?\n    \n    The `add-consumer-section` command is used to add a consumer section to the ICS chain. This is likely related to the Interchain Standards (ICS) used by Duality to enable interoperability between different blockchains."
    }
  ],
  "folders": [],
  "summary": "The `startup.sh` script in the `.autodoc/docs/json/scripts` folder is responsible for initializing and starting a Duality blockchain node. It automates the process of setting up a new chain or joining an existing chain, and can be used to start a node as a full node or a validator node. This script is an essential component of the Duality project, as it simplifies the process of starting and joining a Duality blockchain network.\n\nThe script begins by setting default variables and checking if it is being run from the correct directory. It then initializes the chain using `dualityd init` with the specified network and chain ID, and adds a consumer section to the ICS chain by running `dualityd add-consumer-section`. If a moniker is provided, the script replaces the moniker in the config file.\n\nDepending on the startup mode, the script either creates a new chain or joins an existing one. For a new chain, it copies the genesis file, adds initial genesis data with all found pregenesis parts, creates test accounts, and starts the new chain. To join an existing chain, it uses the provided RPC address or reads it from the chain.json file, checks if the node is on the correct network, and retrieves information from the current network. If successful, it sets the chain settings and starts the node as a full node or a validator node.\n\nIf the node is started as a validator node, the script waits for the node to catch up to the chain's current height, adds the validator key, and sends a request to become a validator. It then checks the node's validator status. If the node is not started as a validator node, it starts the node as a full node.\n\nExample usage:\n\nTo start a new chain:\n\n```bash\n./startup.sh MODE=new NETWORK=duality-1 MONIKER=my-node\n```\n\nTo join an existing chain:\n\n```bash\n./startup.sh MODE=fullnode NETWORK=duality-1 RPC_ADDRESS=http://127.0.0.1:26657\n```\n\nTo start a validator node:\n\n```bash\n./startup.sh MODE=validator NETWORK=duality-1 MNEMONIC=\"my mnemonic\"\n```\n\nIn summary, the `startup.sh` script is a crucial part of the Duality project, as it automates the process of initializing and starting a Duality blockchain node. It streamlines the process of creating a new chain or joining an existing chain and can be used to start a node as a full node or a validator node. This script is essential for developers working with the Duality project, as it simplifies the process of starting and joining a Duality blockchain network.",
  "questions": ""
}